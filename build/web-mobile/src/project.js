require=function l(s,c,a){function r(i,t){if(!c[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var n=c[i]={exports:{}};s[i][0].call(n.exports,function(t){return r(s[i][1][t]||t)},n,n.exports,l,s,c,a)}return c[i].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)r(a[t]);return r}({boll:[function(t,i,e){"use strict";cc._RF.push(i,"46e33Lf/o1NJrSwDSrTdW6w","boll"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,i,e){if("boxSprite"==e.node.name){cc.audioEngine.playEffect(i.node.game.rockAudio,!1);var o=e.getComponent(cc.Sprite),n=o.getComponentInChildren(cc.Label),l=parseInt(n.string);1==l?o.node.destroy():n.string=(--l).toString()}"lifeBox"==e.node.name&&(cc.audioEngine.playEffect(i.node.game.circleAudio,!1),e.node.destroy(),i.node.game.addBolls++)}}),cc._RF.pop()},{}],bounceGame:[function(t,i,e){"use strict";cc._RF.push(i,"9ee48eR4DtEmZNt1HYcUdPD","bounceGame"),cc.Class({extends:cc.Component,properties:{bollDown:!1,isBegin:!1,isActivity:!1,isFirstBoll:!1,firstBollPositionX:0,allBolls:0,tampBolls:0,addBolls:0,level:1,indexBoll:{default:null,type:cc.Sprite},boxPrefab:{default:null,type:cc.Prefab},bollPrefab:{default:null,type:cc.Prefab},lifePrefab:{default:null,type:cc.Prefab},ground:{default:null,type:cc.Node},ballLink:{default:null,type:cc.Sprite},levelLabel:{default:null,type:cc.Label},allBollsLabel:{default:null,type:cc.Label},rockAudio:{default:null,url:cc.AudioClip},circleAudio:{default:null,url:cc.AudioClip}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-350)),this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-350)),this.ballLink.enabled=!1,(this.ground.getComponent("groundSprite").game=this).initBox(),this.allBolls=1,this.level=1,this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.touchStart(t)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.touchMove(t)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.touchEnd(t)}.bind(this),this);for(var t=0;t<6;t++){if(1==Math.ceil(10*Math.random())%2){var i=cc.instantiate(this.boxPrefab);this.node.addChild(i),i.setPosition(105*t-263,450);var e=this.hslToRgb(.025*this.level,.5,.5);i.setColor(cc.color(e[0],e[1],e[2]))}}},initBox:function(){if(this.level++,this.levelLabel.getComponent(cc.Label).string="分数："+this.level,1==this.isBegin){for(var t=this.node.children,i=0;i<t.length;i++){var e=t[i];"boxSprite"!=e.name&&"lifeBox"!=e.name||e.position.y<=450&&(e.y-=100,-350==e.y&&this.showGameOver())}var o=!1;for(i=0;i<6;i++){if(1==Math.ceil(10*Math.random())%2)if(1==Math.ceil(10*Math.random())%2&&0==o){o=!0;var n=cc.instantiate(this.lifePrefab);n.setPosition(105*i-263,450),this.node.addChild(n)}else{var l=cc.instantiate(this.boxPrefab),s=l.children[0],c=Math.ceil(10*Math.random())%2;s.getComponent(cc.Label).string=1==c?2*this.level:this.level,this.node.addChild(l),l.setPosition(105*i-263,450);var a=this.hslToRgb(.025*this.level,.5,.5);l.setColor(cc.color(a[0],a[1],a[2]))}}this.bollDown=!1}},touchStart:function(t){this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-350))},touchMove:function(t){if(0==this.isActivity){this.ballLink.enabled=!0;var i=t.touch._point.x;this.ballLink.node.setRotation(i),this.ballLink.node.rotation<280&&this.ballLink.node.setRotation(280),440<this.ballLink.node.rotation&&this.ballLink.node.setRotation(440)}},touchEnd:function(t){0==this.isActivity&&(this.ballLink.enabled=!1,this.allBollsLabel.enabled=!1,0==this.isBegin&&(this.isBegin=!0),this.schedule(function(){var t=cc.instantiate(this.bollPrefab);this.node.addChild(t),t.game=this,t.setPosition(cc.v2(this.firstBollPositionX,-350));var i=t.getComponent(cc.RigidBody),e=-this.ballLink.node.rotation-270,o=100*Math.cos(.017453293*e),n=100*Math.sin(.017453293*e);i.linearVelocity=cc.v2(10*o,10*n)}.bind(this),.08,this.allBolls-1),this.schedule(function(){this.indexBoll.enabled=!1,this.isFirstBoll=!1}.bind(this),.08*(this.allBolls-1),1),this.isActivity=!0)},showGameOver:function(){cc.director.loadScene("bounceGame")},update:function(t){1==this.bollDown&&this.initBox(),1==this.isFirstBoll&&(this.indexBoll.enabled=!0,this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-350)))},hslToRgb:function(t,i,e){var o,n,l;if(0==i)o=n=l=e;else{var s=function(t,i,e){return e<0&&(e+=1),1<e&&(e-=1),e<1/6?t+6*(i-t)*e:e<.5?i:e<2/3?t+(i-t)*(2/3-e)*6:t},c=e<.5?e*(1+i):e+i-e*i,a=2*e-c;o=s(a,c,t+1/3),n=s(a,c,t),l=s(a,c,t-1/3)}return[Math.round(255*o),Math.round(255*n),Math.round(255*l)]}}),cc._RF.pop()},{}],box:[function(t,i,e){"use strict";cc._RF.push(i,"64d28CtzUZHU6zwDKNtyRk2","box"),cc.Class({extends:cc.Component,properties:{boxtag:0},start:function(){}}),cc._RF.pop()},{}],groundSprite:[function(t,i,e){"use strict";cc._RF.push(i,"7061e552B9BQZZm3GGw6d+3","groundSprite"),cc.Class({extends:cc.Component,properties:{isTouchBoll:!1,game:{default:null,serializable:!1}},onLoad:function(){},onBeginContact:function(t,i,e){"bollSprite"==e.node.name&&(e.node.destroy(),0==this.isTouchBoll&&(this.game.firstBollPositionX=e.node.x,this.isTouchBoll=!0,this.game.isFirstBoll=!0),this.game.tampBolls++,this.game.tampBolls==this.game.allBolls&&(this.game.allBolls+=this.game.addBolls,this.game.addBolls=0,this.game.bollDown=!0,this.game.tampBolls=0,this.isTouchBoll=!1,this.game.isActivity=!1,this.game.allBollsLabel.enabled=!0,this.game.allBollsLabel.getComponent(cc.Label).string="x "+this.game.allBolls,this.game.allBollsLabel.node.setPosition(cc.v2(this.game.firstBollPositionX-30,-315))))},start:function(){}}),cc._RF.pop()},{}],lifeBox:[function(t,i,e){"use strict";cc._RF.push(i,"6700apouQpBKYVEhPCOXU/q","lifeBox"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,i,e){"bollSprite"==e.node.name&&i.node.destroy()}}),cc._RF.pop()},{}]},{},["boll","bounceGame","box","groundSprite","lifeBox"]);